<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <title>Javascript &mdash; Schema Generator 0.1 documentation</title>

    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Schema Generator 0.1 documentation" href="index.html" />
    <link rel="next" title="Apache2 configuration" href="apache.html" />
    <link href="controller.html" rel="prev" title="Controller" />
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="apache.html" title="Apache2 configuration"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="controller.html" title="Controller"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Schema Generator 0.1 documentation</a> &raquo;</li>
      </ul>
    </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">

  <div class="section" id="javascript">
<h1>Javascript<a class="headerlink" href="#javascript" title="Permalink to this headline">Â¶</a></h1>
<p>Located in the <tt class="docutils literal"><span class="pre">view</span></tt> subdirectory for development, the <tt class="docutils literal"><span class="pre">schema.js</span></tt> file should be located at the root of the <a class="reference internal" href="apache.html">Web Server</a> together with all other static files.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">function</span> <span class="nx">onLoad</span><span class="p">(</span><span class="nx">arg</span><span class="p">)</span>
</pre></div>
</div>
<p>This function shows the different buttons depending on the situation.</p>
<ul>
<li><dl class="first docutils">
<dt>index.html (arg is empty)</dt>
<dd><ul class="first last simple">
<li>the <tt class="docutils literal"><span class="pre">Recover</span> <span class="pre">Data</span></tt> button is shown if the LocalStorage has data</li>
<li>the <tt class="docutils literal"><span class="pre">Clear</span> <span class="pre">Data</span></tt> button is shown together with the <tt class="docutils literal"><span class="pre">Recover</span> <span class="pre">Data</span></tt> button</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>all other pages (arg is &#8220;schema&#8221;)</dt>
<dd><ul class="first last simple">
<li>the <tt class="docutils literal"><span class="pre">Save</span> <span class="pre">Schema</span></tt> button is shown only if LocalStorage is available</li>
<li>the <tt class="docutils literal"><span class="pre">Generate</span> <span class="pre">Schema</span></tt> button is shown</li>
<li>the <tt class="docutils literal"><span class="pre">Recover</span> <span class="pre">Data</span></tt> button is shown if the LocalStorage has data</li>
<li>the <tt class="docutils literal"><span class="pre">Clear</span> <span class="pre">Data</span></tt> button is shown together with the <tt class="docutils literal"><span class="pre">Recover</span> <span class="pre">Data</span></tt> button</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">function</span> <span class="nx">ShowNextSchema</span><span class="p">(</span><span class="nx">schema</span><span class="p">,</span> <span class="nx">id</span><span class="p">)</span>
</pre></div>
</div>
<p>This function will get the next level on the hierarchy through an AJAX call, only once. If the level has already been obtained, it will toggle the display setting between <tt class="docutils literal"><span class="pre">None</span></tt> and <tt class="docutils literal"><span class="pre">Block</span></tt></p>
<ul class="simple">
<li>schema - the next element in the hierarchy</li>
<li>id - the div where the content is to be shown</li>
</ul>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">function</span> <span class="nx">GenerateSchema</span><span class="p">()</span>
</pre></div>
</div>
<p>This function only executes the <tt class="docutils literal"><span class="pre">submit()</span></tt> action of the form, sending all the fields to the <a class="reference internal" href="controller.html">Application Server</a> through the POST action. A syntactically correct schema.org schema will be returned.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">function</span> <span class="nx">SaveSchema</span><span class="p">()</span>
</pre></div>
</div>
<p>This function can only be called if LocalStorage is available. It will clear the old content of the LocalStorage and then will save all data on screen for later recovery. Then, it will show a confirmation the schema has been saved.</p>
<p>** TODO: The confirmation message might be improved using AJAX instead</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">function</span> <span class="nx">RecoverData</span><span class="p">()</span>
</pre></div>
</div>
<p>This function will replace the <tt class="docutils literal"><span class="pre">innerHTML</span></tt> with the content stored in LocalStorage</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">function</span> <span class="nx">ClearData</span><span class="p">()</span>
</pre></div>
</div>
<p>This function will delete the content stored in LocalStorage and hide the <tt class="docutils literal"><span class="pre">Recover</span> <span class="pre">Data</span></tt> and <tt class="docutils literal"><span class="pre">Clear</span> <span class="pre">Data</span></tt> buttons.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
</pre></div>
</div>
<p>jQuery copied from schema.org. This will show the example tabs of the original schema.org example tabs.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="model.html">Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="view.html">View</a></li>
<li class="toctree-l1"><a class="reference internal" href="controller.html">Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="controller.html#starting-the-server-at-default-port-8000">Starting the server at default port 8000</a></li>
<li class="toctree-l1"><a class="reference internal" href="controller.html#starting-the-server-at-another-port">Starting the server at another port</a></li>
<li class="toctree-l1"><a class="reference internal" href="controller.html#shutting-down-the-server">Shutting down the server</a></li>
<li class="toctree-l1"><a class="reference internal" href="controller.html#restarting-the-server">Restarting the server</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Javascript</a></li>
<li class="toctree-l1"><a class="reference internal" href="apache.html">Apache2 configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="apache.html#conf">.conf</a></li>
<li class="toctree-l1"><a class="reference internal" href="schema_bot.html">Schema bot</a></li>
<li class="toctree-l1"><a class="reference internal" href="schema_bot.html#starting-the-bot">Starting the bot</a></li>
<li class="toctree-l1"><a class="reference internal" href="schema_bot.html#restarting-the-server-s">Restarting the server(s)</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="controller.html"
                        title="previous chapter">Controller</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="apache.html"
                        title="next chapter">Apache2 configuration</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/javascript.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="apache.html" title="Apache2 configuration"
             >next</a> |</li>
        <li class="right" >
          <a href="controller.html" title="Controller"
             >previous</a> |</li>
        <li><a href="index.html">Schema Generator 0.1 documentation</a> &raquo;</li>
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2016 - 2021, Hans Polak.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>
